<!doctype html>
<html lang="en">
  <head>
    <meta charset="utf-8" />
    <link rel="icon" href="%sveltekit.assets%/favicon.png" />
    <meta name="viewport" content="width=device-width, initial-scale=1" />
    <title>RevoStream.app</title>
    <style>
      html,
      body {
        margin: 0;
        background: #222;
        color: #ffffff;
        font-family: sans-serif;
      }

      /* Opcjonalne: Stylizacja loadera, aby był na środku */
      #app-loader {
        position: fixed;
        top: 0;
        left: 0;
        width: 100%;
        height: 100%;
        text-align: center;
        display: flex;
        align-items: center;
        justify-content: center;
        background: #222;
        z-index: 9999;
      }
    </style>
    %sveltekit.head%
  </head>
  <body data-sveltekit-preload-data="hover">
    <div id="app-loader">
      <h2>Loading app ...</h2><br>
      (if this message doesn't disappear after a few seconds, please check the console/terminal for errors)
    </div>

    <div style="display: contents">%sveltekit.body%</div>

    <script>
      const hideLoader = () => {
        const loader = document.getElementById('app-loader');
        if (loader) {
          loader.style.display = 'none';
          loader.remove();
        }
      };

      // SvelteKit (w zależności od adaptera) może nie emitować eventu w Tauri,
      // więc dodajemy bezpieczne fallbacki.
      window.addEventListener('sveltekit:start', hideLoader, { once: true });
      window.addEventListener('DOMContentLoaded', hideLoader, { once: true });
      window.addEventListener('load', hideLoader, { once: true });
      setTimeout(hideLoader, 3000);
    </script>
  </body>
</html>
